---
// Sunburst: Parametric SVG radiating geometric badge
// Inspired by WPA posters and Atoms for Peace aesthetics
interface Props {
  color?: string;
  size?: number;
  rays?: number;
}
const { color = 'currentColor', size = 120, rays = 24 } = Astro.props;

const center = size / 2;
const outerRadius = size / 2;
const innerRadius = size / 6;

// Generate alternating triangular rays
const paths: string[] = [];
for (let i = 0; i < rays; i++) {
  if (i % 2 === 0) {
    const angle1 = (i / rays) * Math.PI * 2 - Math.PI / 2;
    const angle2 = ((i + 1) / rays) * Math.PI * 2 - Math.PI / 2;
    const x1 = center + Math.cos(angle1) * outerRadius;
    const y1 = center + Math.sin(angle1) * outerRadius;
    const x2 = center + Math.cos(angle2) * outerRadius;
    const y2 = center + Math.sin(angle2) * outerRadius;
    paths.push(`M ${center} ${center} L ${x1} ${y1} L ${x2} ${y2} Z`);
  }
}
---
<svg
  class="sunburst"
  width={size}
  height={size}
  viewBox={`0 0 ${size} ${size}`}
  xmlns="http://www.w3.org/2000/svg"
  aria-hidden="true"
>
  {paths.map(d => (
    <path d={d} fill={color} />
  ))}
  <circle cx={center} cy={center} r={innerRadius} fill={color} />
</svg>
